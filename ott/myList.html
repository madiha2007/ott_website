<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>My List</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="style.css">
<style>
    body {
      background-color: #000;
      color: white;
    }
    #listc{
     border-color: crimson;
     border-width: 10px;
      border-radius: 15px;
      box-shadow: #460808;
    }
    /* mylist.css */

.list-c {
  border: 1px solid rgb(49, 2, 11);
  box-shadow: 15px 15px 50px rgba(139, 0, 0, 0.6); /* dark red shadow */
  border-radius: 10px;
  padding: 20px;
  background-color: #000000; /* dark background for contrast */
  color: white;
}

.list-c .card {
  background-color: transparent;
  border: none;
  transition: transform 0.2s ease;
}

.list-c  .card:hover {
  transform: scale(1.03);
  box-shadow: 0 0 10px rgba(92, 5, 22, 0.5); /* crimson glow */
}

  </style>
</head>
<body>
<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark  fixed-top">
  <div class="container-fluid">

    <!-- Logo -->
    <a class="navbar-brand me-3" href="#">
      <img src="https://upload.wikimedia.org/wikipedia/commons/7/7a/Logonetflix.png" class="img-fluid" style="width: 120px;" alt="Netflix Logo">
    </a>

    <!-- Toggle Button for Mobile -->
    <button class="navbar-toggler text-ligh" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Collapsible Content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">

      <!-- Left Side: Nav Links -->
      <ul class="navbar-nav me-auto mb-2 mb-lg-0 d-flex flex-row gap-3 align-items-center">
        <li class="nav-item">
          <a class="nav-link active" href="landingPage.html">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="movies.html">Movies</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="tvShows.html">TV Shows</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="newNhot.html">New & Popular</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="myList.html">My List</a>
        </li>

        <li class="nav-item dropdown">
     
               <button class="btn dropdown-toggle  nav-link" data-bs-toggle="dropdown"> <i class="bi bi-globe2"></i> <span class="d-none d-sm-inline">Browse by language </span>            </button>
               
               <ul class="dropdown-menu ">
                  <li class="dropdown-item" >Hindi</li>
                  <li class="dropdown-item" >Marathi</li>
                  <li class="dropdown-item" >Korean</li>
                  <li class="dropdown-item" >Chinese</li>
                  <li class="dropdown-item" >Spanish</li>
               </ul>             
        </li>
      </ul>

      <!-- Right Side: Search -->
      <form class="d-flex search-bar">
        <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
        <button class="btn btn-danger" type="submit">Search</button>
      </form>
      <!-- <div id="authSection" class="d-flex align-items-center"></div> -->
    </div>
  </div>
</nav>

<div class=" p-5"></div>
  <div class="container py-5 list-c">

    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="mb-0">My List</h2>
        <i class="bi bi-pencil-square fs-3" id="editToggle" role="button" style="cursor: pointer;"></i>
      </div>
      <div class=""> <button id="removeAllBtn" class="btn btn-danger d-none w-100">Remove All</button></div>
    <div id="myListContainer"></div>
  </div>

  <!-- Delete Confirmation Modal -->
<div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="deleteModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content bg-dark text-white">
        <div class="modal-header border-0">
          <h5 class="modal-title" id="deleteModalLabel">Confirm Deletion</h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          Are you sure you want to remove this item from your list?
        </div>
        <div class="modal-footer border-0">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-danger" id="confirmDeleteBtn">Yes, Delete</button>
        </div>
      </div>
    </div>
  </div>
<script src="navbar.js"></script>
   <script src="profile.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
  
  <script>
    const myList = JSON.parse(localStorage.getItem("myList")) || [];
    const container = document.getElementById("myListContainer");
    const editIcon = document.getElementById("editToggle");
    let editMode = false;
    let itemToDeleteIndex = null;
  
    function renderList() {
      container.innerHTML = "";
  
      if (myList.length === 0) {
        container.innerHTML = "<p>No items in your list yet.</p>";
        return;
      }
  
      myList.forEach((item, index) => {
        const col = document.createElement("div");
        col.className = "col-12 mb-4 position-relative";
        col.innerHTML = `
          <div class="card navbar text-white flex-row">
            <div class="col-3">
              <img src="${item.img}" class="img-fluid h-100 object-fit-cover rounded-start" alt="${item.title}" />
            </div>
            <div class="col-8 p-3 d-flex flex-column justify-content-between">
              <div>
                <h5 class="card-title">${item.title}</h5>
                <p class="card-text"><small>${item.genre}</small></p>
              </div>
              <div class="mt-3">
                <button class="btn btn-danger">Watch Now</button>
              </div>
            </div>
            ${editMode ? `
            <div class="position-absolute top-0 end-0 p-3">
              <i class="bi bi-trash text-danger fs-4 delete-icon" data-index="${index}" role="button"></i>
            </div>
            ` : ""}
          </div>
        `;
        container.appendChild(col);
      });
  
      if (editMode) {
        document.querySelectorAll(".delete-icon").forEach(icon => {
          icon.addEventListener("click", function () {
            itemToDeleteIndex = parseInt(this.getAttribute("data-index"));
            const modal = new bootstrap.Modal(document.getElementById("deleteModal"));
            modal.show();
          });
        });
      }
    }
  
    // Handle delete confirm
    document.getElementById("confirmDeleteBtn").addEventListener("click", () => {
      if (itemToDeleteIndex !== null) {
        myList.splice(itemToDeleteIndex, 1);
        localStorage.setItem("myList", JSON.stringify(myList));
        itemToDeleteIndex = null;
        renderList();
        const modal = bootstrap.Modal.getInstance(document.getElementById("deleteModal"));
        modal.hide();
      }
    });
  
    // Toggle edit mode
    editIcon.addEventListener("click", () => {
      editMode = !editMode;
      removeAllBtn.classList.toggle("d-none", !editMode);  // Show/hide button
      renderList();
    });
  
    removeAllBtn.addEventListener("click", () => {
  if (confirm("Are you sure you want to remove all items from your list?")) {
    myList.length = 0;
    localStorage.setItem("myList", JSON.stringify(myList));
    renderList();
  }
});

    renderList();
  </script>
  
</body>
</html>

