<!-- "Pehle everything was working the profile pic wasnt showing aur ab vo kiya toh ye toggle hi nhi ho rhaa" -->
<!-- HELP -->
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Netflix Profiles</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"/>

<style>
  :root { color-scheme: dark; }
  body {
    /* Clean background (no 404s) */
    background: linear-gradient(180deg, rgba(0,0,0,.85), rgba(20,20,20,1));
    color: #fff; min-height: 100vh;
  }
  .profile-card {
    text-align: center; cursor: pointer; position: relative;
    animation: fadeZoom .6s ease forwards;
  }
  .profile-card img {
    width: 150px; height: 150px; object-fit: cover;
    border-radius: 6px; transition: transform .25s ease;
    background:#222;
  }
  .profile-card:hover img { transform: scale(1.05); }
  .kids-badge {
    position: absolute; bottom: 8px; right: 8px;
    background: #ffb300; color: #000; padding: 2px 6px;
    font-size: .7rem; font-weight: 700; border-radius: 3px;
  }
  @keyframes fadeZoom { from {opacity:0; transform:scale(.92)} to {opacity:1; transform:scale(1)} }

  .manage-btns { display: none; margin-top:.5rem; gap:.5rem }
  .manage-mode .manage-btns { display: flex; justify-content: center; }
  .add-profile {
    width: 150px; height: 150px; border-radius: 6px;
    border: 2px dashed gray; display:flex; align-items:center; justify-content:center;
    flex-direction: column; color: #bbb;
  }
  .avatar-option { border-radius:6px; cursor:pointer }
  .avatar-option.active { outline: 3px solid #0d6efd; outline-offset: 2px; }
  iframe { width: 100%; height: 400px; border: none; margin-top: 30px; }
</style>
</head>
<body>
<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark fixed-top">
  <div class="container-fluid">
    <a class="navbar-brand me-3" href="#">
      <img src="https://upload.wikimedia.org/wikipedia/commons/7/7a/Logonetflix.png"
           class="img-fluid"
           style="width: 120px;"
           alt="Netflix Logo">
    </a>
    <button class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent"
            aria-expanded="false"
            aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0 d-flex flex-row gap-3 align-items-center">
        <li class="nav-item">
          <a class="nav-link active" href="home.html">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="movieAL.html">Movies</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="tvShowsAL.html">TV Shows</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="newNhot.html">New & Popular</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="myList.html">My List</a>
        </li>
        <li class="nav-item dropdown">
          <button class="btn dropdown-toggle nav-link" data-bs-toggle="dropdown">
            <i class="bi bi-globe2"></i>
            <span class="d-none d-sm-inline">Browse by language</span>
          </button>
          <ul class="dropdown-menu">
            <li class="dropdown-item">Hindi</li>
            <li class="dropdown-item">Marathi</li>
            <li class="dropdown-item">Korean</li>
            <li class="dropdown-item">Chinese</li>
            <li class="dropdown-item">Spanish</li>
          </ul>
        </li>
      </ul>
      <form class="d-flex search-bar">
        <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
        <button class="btn btn-danger" type="submit">Search</button>
      </form>
      <div id="authSection" class="d-flex align-items-center"></div>
    </div>
  </div>
</nav>

<!-- Who's Watching + Account Summary -->
<div class="container text-center py-5 mt-5">
  <div class="d-flex justify-content-between align-items-center mb-4 flex-wrap gap-2">
    <h1 class="h3 m-0">Who's Watching?</h1>
    <div class="d-flex flex-wrap gap-3 align-items-center">
      <button id="manageBtn" class="btn btn-outline-light">Manage Profiles</button>
      <button id="logoutBtn" class="btn btn-danger">Sign Out</button>
      <button id="resetBtn" class="btn btn-secondary">Reset Profiles</button>
    </div>
  </div>
  <!-- Account Summary -->
  <div class="container py-4">
    <div class="row justify-content-center">
      <div class="col-md-6">
        <div class="card bg-dark text-white p-4 rounded-3 shadow">
          <h2 id="profileName">Loading...</h2>
          <p>Email: <span id="profileEmail">Loading...</span></p>
          <p>Plan: <span id="profilePlan">Loading...</span></p>
        </div>
      </div>
    </div>
  </div>
  <!-- Profiles -->
  <div class="row g-4 justify-content-center" id="profilesContainer"></div>
</div>

<!-- My List -->
<div class="container my-5">
  <h2 class="mb-3 text-white">My List</h2>
  <div id="profileMyList" class="d-flex overflow-auto gap-3 pb-3"></div>
</div>

<!-- Edit Profile Modal -->
<div class="modal fade" id="editProfileModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content bg-dark text-white">
      <div class="modal-header">
        <h5 class="modal-title">Edit Profile</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <input type="text" id="editProfileName" class="form-control mb-3" placeholder="Profile name">
        <div class="form-check mb-3 text-start">
          <input class="form-check-input" type="checkbox" id="editProfileKids">
          <label class="form-check-label">Kids Profile</label>
        </div>
        <h6 class="text-start">Avatars</h6>
        <div class="d-flex flex-wrap gap-3" id="avatarChoices">
          <img src="user1.png" class="avatar-option" data-img="user1.png" width="80" height="80" alt="Avatar 1">
          <img src="user2.jpg" class="avatar-option" data-img="user2.jpg" width="80" height="80" alt="Avatar 2">
          <img src="user3.jpg" class="avatar-option" data-img="user3.jpg" width="80" height="80" alt="Avatar 3">
          <img src="user4.jpg" class="avatar-option" data-img="user4.jpg" width="80" height="80" alt="Avatar 4">
          <img src="default.png" class="avatar-option" data-img="default.png" width="80" height="80" alt="Default">
        </div>
        <div class="text-center mt-3 pt-3 border-top border-secondary">
          <h6 class="mb-2">Selected Profile Picture</h6>
          <img id="selectedAvatar" src="default.png" data-img="default.png" width="100" height="100" style="border-radius:8px;background:#222">
        </div>
      </div>
      <div class="modal-footer">
        <button id="saveEditBtn" class="btn btn-primary">Save Changes</button>
      </div>
    </div>
  </div>
</div>

<script src="navbar.js"></script>
<script src="profile.js"></script></div></form></li>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
