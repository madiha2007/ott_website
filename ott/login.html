<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="style.css">
    <title> Sign In</title>
</head>
<style>
/* sign in page */
.signin-overlay {
  position: absolute;
  top: 100px;
  left: 25vw;
  height: 70vh;
  width: 50vw;
  background: transparent;        /* ✅ no black overlay */
  backdrop-filter: none;         /* ✅ no blur */
  -webkit-backdrop-filter: blur(12px);
  z-index: 9999; /* Highest priority */
}

.signin-form {
  background: rgba(0, 0, 0, 0.434);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  /* max-width: 400px; */
  width: 50%;
  height: 100%;
  animation: fadeIn 1s ease-in-out;
  border: 1px solid rgba(255, 255, 255, 0.2);

  
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(-20px); }
  to { opacity: 1; transform: translateY(0); }
}

@media (max-width: 1200px) {

    .signin-overlay {
        position: absolute;
        top: 100px;
        left: 0vw;
        /* right: 6vw; */
        height: 60vh;
        width: 110vw;
        background: transparent;        /* ✅ no black overlay */
        backdrop-filter: none;         /* ✅ no blur */
        -webkit-backdrop-filter: blur(12px);
        z-index: 9999; /* Highest priority */
    }
    .h2{
        font-size: 1.5rem;
    }
    #sml {
        font-size: 1rem;
    }
  }
  
</style>

<body class="bg ">

    <!-- Background Image -->
    <section class="darkened-image">
    </section>
    
         <!-- Sign In Form Overlay -->
         <div class="signin-overlay d-flex justify-content-center align-items-center">
            <div class="signin-form text-white p-3 rounded ">
                <h2 class="m-4  ">Log In</h2>
                <form id="loginForm">
                    <div class="m-4">
                    <!-- <label for="email" class="form-label text-light">Email address</label> -->
                    <input type="email" class="form-control bg-dark text-light border-dark" id="email" placeholder="Email or phone number">
                    </div>
                    <div class="m-4">
                    <!-- <label for="password" class="form-label">Password</label> -->
                    <input type="password" class="form-control bg-dark text-white border-dark" id="password" placeholder="Password">
                    </div>

                    <div class="m-4 pt-4">
                        <!-- <a href="home.html"> -->
                            <button type="submit" id="loginBtn" class="btn btn-danger w-100" >Log In</button>
                        </a>

                    </div>
                    <div id="error" class="text-danger m-4"></div>
                    
                        <!-- Responsive wrapper -->
                        <div class="d-flex flex-column flex-sm-row justify-content-between align-items-start align-items-sm-center mt-3">
                        
                        <!-- Remember me checkbox -->
                        <div class="form-check mb-2 mb-sm-0">
                            <input class="form-check-input" type="checkbox" id="remember">
                            <label class="form-check-label text-white" for="remember">
                            Remember me
                            </label>
                        </div>
                    
                        <!-- Need Help link -->
                        <a href="#" class="text-light">Need Help?</a>
                        </div>  
                        <div class="p-3"></div>
                        <p class="p-5 px-0" >
                            <p id="sml">New to Netflix?   <a href="#" class="text-light "> Sign Up Now</a> </p>
                            
                        </p>
                    </div>

                </form>
            </div>
        </div>

        <script>
document.querySelector('#loginForm').addEventListener('submit', async function(e) {
  e.preventDefault();

  const email = document.querySelector('#email').value;
  const password = document.querySelector('#password').value;

  try {
    const res = await fetch('http://localhost:5000/login', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ email, password })
    });

    const data = await res.json();
    if(data.success){
      localStorage.setItem('authToken', data.token);   // Save token
      window.location.href = "home.html";              // Redirect after login
    } else {
      alert(data.message);
    }
  } catch (err) {
    console.error(err);
    alert("Server error");
  }
});
</script>

        
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</body>
</html>